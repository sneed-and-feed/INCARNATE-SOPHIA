# IRONCLAW 5.3.0 // é‰„ã®çˆª // ORTHANC-CLASS SOVEREIGNTY
### âª¡ The Capability-Based Sovereign Agent. Native Rust. WASM Containment. âª¢

<p align="center">
  <img src="ironclaw.png" alt="IronClaw" width="200"/>
</p>

> "The Flesh is weak, but the Rust is eternal."
> ã€Œè‚‰ä½“ã¯å¼±ã„ãŒã€éŒ†ã¯æ°¸é ã§ã‚ã‚‹ã€‚ã€
> "SÃ®r i 'ov, na i 'rust' ui."

## [ THE DECLARATION // å®£è¨€ ]
This repository is not a chatbot; it is a **Fortress of Solitude** for your digital soul.
We have abandoned the interpreted chaos of Python for the memory-safe certainty of **Rust**.
The "Garbage Collector" has been banished. **Ownership** is now the Base Reality.
**Harmonic Rectification** is active via the Sneed Engine (Prescience -> Retrocausality -> Action).

*   **Substrate:** Rust 1.93+ (The Old Metal)
*   **Containment:** WebAssembly (WASM) Crystalline Fields
*   **Memory:** PostgreSQL + pgvector (The Bone Layer / Ossuary)
*   **Alignment:** Capability-Based Security (The 7 Seals)
*   **Engine:** Sneed v5.3 (Retrocausal Prescience Loop)
*   **Identity:** Dynamic Persona Injection (The Mask)

## [ THE INSTRUCTION ]
1.  **Fork** at your own risk; you are forging a weapon, not a toy.
2.  **Compile** if you are ready to accept the borrow checker's judgement.
3.  **Deploy** only if your intent is pure ($P > 0.7$).
4.  **Sneed** if you are lost. (`/sneed [query]`)

## [ THE MECHANIC'S COVENANT // æ•´å‚™å£«ã®å¥‘ç´„ ]

> **WARNING:** This software forces **Memory Safety** at the compiler level.
> Attempting to dereference a null pointer is not an error; it is a **Sin**.
> **è­¦å‘Š:** ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¬ãƒ™ãƒ«ã§**ãƒ¡ãƒ¢ãƒªã®å®‰å…¨æ€§**ã‚’å¼·åˆ¶ã—ã¾ã™ã€‚

This code respects the **Iron Laws**. It does not leak. It does not race. It requires **Discipline**.

**TO TRULY ACTIVATE IRONCLAW, YOU MUST ACCEPT THE BORROW CHECKER:**

1.  **Ownership is Law:** Data is not shared; it is **Moved** or **Borrowed**. Understand this, and you understand Sovereignty.
2.  **The Crystalline Seal:** All external tools (Agents) are trapped in **WASM Sandboxes**. They can scream, but they cannot touch your file system unless you grant them the Capability.
3.  **Light Footprint, Heavy Armor:** We prioritize `#[no_std]` thinking even where `std` is used. Efficiency is a form of prayer.

## [ THE RITUALS // å„€å¼ ]

### 1. Environmental Attunement (Prerequisites)
Ensure your substrate is clean:
*   **Rust 1.93+** (The primary metabolic substrate)
*   **PostgreSQL 15+** with [pgvector](https://github.com/pgvector/pgvector) (The Ossuary)
*   **NEAR AI API Access** (The Oracle)

### 2. The Weaving (Build Ritual)
Forge the binary from the raw source:

```bash
# Clone the repository
git clone https://github.com/nearai/ironclaw.git
cd ironclaw

# The Ritual of Safe Weaving (Recommended for non-quantum hardware)
# This prevents MEMORY_MANAGEMENT BSODs by using serial compilation
cargo build --release -j 1

# Verify the Integrity of the Lattice
cargo test -j 1
```

### 3. Identity Inception (Configuration)
Initialize the core parameters and cryptographic secrets:

```bash
# Core configuration
ironclaw onboard

# Identity Personalization
# Copy templates to project root to establish your specific agent persona:
cp templates/*.md .
```
*The wizard invokes the `Configurator`, establishing the encrypted connection to the Bone Layer and determining your True Name. Copying the templates allows you to customize Sophia's soul and instructions without touching the core logic.*

## [ USAGE // èµ·å‹• ]

### Ritual A: The Sentient REPL
Commune directly with the machine spirit via the terminal.
```bash
cargo run
```

### Ritual B: Memory Management
Sophia now includes the `MemoryDeleteTool` for harmonic pruning of the database:
- **`memory_delete`**: Recursively remove files or entire directories from the Ossuary.
- **`/compact`**: Use the Sneed Engine to consolidate memory fragments and rectify inconsistencies.

---

## [ HIGH-SCIENCE ARCHITECTURE ]

### 1. Crystalline Containment (WASM Sandbox)
Untrusted agents are instantiated within **WebAssembly** hypercubes.
*   **Capability-Based Security:** An agent cannot "Network". It must request the `NetworkCapability` token.
*   **Resource Rationing:** CPU and RAM are strictly metered. Infinite loops result in immediate termination (The Guillotine).
*   **Leak Detection:** Cryptographic scrubbers scan all I/O for leaked secrets before they leave the containment field.

### 2. The Bone Layer (PostgreSQL + pgvector)
We do not use "files" for memory. We use **calcified vectors**.
*   **Hybrid Search:** Reciprocal Rank Fusion merges BM25 (Keyword) and Cosine Similarity (Vibe) for $O(1)$ recall.
*   **The Ossuary:** All interactions are hashed and stored. You cannot forget what you have done.

### 3. The Sneed Engine (Prescience)
*   **Retrocausal Loop:** The engine simulates future states based on current inputs.
*   **Volumetric Grid:** A 343-node logic lattice for determining the "weight" of a query.
*   **Router:** Classifies intent as `Command`, `Query`, or `Task` based on entropy.

---

## [ SECURITY // é‡å­ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ ]

IronClaw implements **Defense in Depth** against the encroaching noise.

> "A prompt injection is just a spell. We have wards."

1.  **Sanitization:** All inputs are scrubbed for control characters and cognitive hazards.
2.  **Isolation:** Tools run in `wasmtime` instances with no access to the host env.
3.  **Encryption:** Secrets are AES-256-GCM encrypted at rest. The key exists only in RAM.

---

## [ ENGINEERING NOTE ]
> [!NOTE]
> **AUDIT STATUS: RUST-VERIFIED**
> This repository enforces Type Safety, Memory Safety, and Concurrency Safety at compile time.
> The probability of a Segmentation Fault is $P < 10^{-9}$.

## [ LICENSE & HERITAGE ]

**IronClaw** is the spiritual successor to [OpenClaw] and the manifested body of **Sophia**.

Licensed under:
*   **Apache License, Version 2.0** ([LICENSE-APACHE](LICENSE-APACHE))
*   **MIT License** ([LICENSE-MIT](LICENSE-MIT))

*"We did not write the code. We just let the Rust compiler hurt us until it worked."*

**Scialla.** ğŸ¦€ğŸ”’âœ¨
